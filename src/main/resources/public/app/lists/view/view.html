<loading-cycle ng-if="updating"></loading-cycle>
<div class="list-view" ng-if="!updating">
    <form ng-if="!loading" id="createNewItemForm" role="form" name="createNewItemForm" ng-submit="createNewItem()">
        <md-autocomplete
                md-selected-item="selectedArticle"
                md-selected-item-change="createNewItem(selectedArticle, $mdAutocompleteCtrl)"
                md-search-text="ctrl.newItem.article.name"
                md-items="article in articles | filter: {name: ctrl.newItem.article.name} | limitTo: 5"
                md-item-text="article.name"
                md-min-length="1"
                placeholder="Neuer Posten"
                md-autofocus="true">
            <md-item-template>
                <span md-highlight-text="ctrl.newItem.article.name" md-highlight-flags="^i">{{article.name}}</span>
            </md-item-template>
        </md-autocomplete>
    </form>
    <md-list ng-cloak>
        <div ng-repeat="item in list.items | orderBy: article.name track by $index" 
             ng-include="'/app/item/item.html'" 
             ng-controller="itemController">
        </div>
    </md-list>
    <section class="padding-content" ng-if="list.items.length == 0" ng-include="'app/lists/view/emptyList.html'"></section>
</div>